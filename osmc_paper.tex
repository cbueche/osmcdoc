\documentclass[12pt,a4paper]{article}
%\usepackage[left=0.8in,right=0.8in,top=1in,bottom=1in]{geometry}

\usepackage[superscript,biblabel]{cite}
\usepackage[parfill]{parskip}
% \usepackage{microtype} \hyphenpenalty=750

\usepackage{gensymb}

\usepackage[pdftex]{graphicx}
\usepackage{epstopdf}
% \DeclareGraphicsRule{.tif}{png}{.png}{`convert #1 `dirname #1`/`basename #1 .tif`.png}
\usepackage[utf8]{inputenc}
\usepackage{booktabs}
\usepackage[english]{babel}
\usepackage{siunitx} \sisetup{range-phrase=--,range-units=single}
\usepackage[colorlinks]{hyperref}
\usepackage{caption} \captionsetup{labelfont={sf,bf}, size=footnotesize}

% set format of document title
\usepackage{titling}
\pretitle{\begin{center}\Large\bfseries} \posttitle{\end{center}\vspace{1em}}
\preauthor{\begin{center}\large} \postauthor{\end{center}\vspace{1em}}
\predate{\begin{center}\large} \postdate{\end{center}\vspace{1em}}
\pretitle{\begin{center}\Large\bfseries} \posttitle{\end{center}\vspace{1em}}

% set formats of section headings
\usepackage[explicit]{titlesec}
\titleformat{\title}{\centering}{\thesection.}{0.5em}{\MakeUppercase{#1}}
\titleformat{\section}{\centering}{\thesection.}{0.5em}{\MakeUppercase{#1}}
% \titleformat{\section}{}{\thesection.}{0.5em}{\MakeUppercase{#1}}
%\titleformat{\subsection}[runin]{\slshape}{\thesubsection.}{0.5em}{#1. }
\titleformat{\subsection}{\slshape}{\thesubsection.}{0.5em}{#1 }
\titleformat{\subsubsection}[runin]{\slshape}{\thesubsubsection.}{0.5em}{#1. }
 
\usepackage[T1]{fontenc}
\usepackage[scaled=.90]{helvet} \renewcommand{\familydefault}{\sfdefault} \usepackage[helvet]{sfmath}

\sisetup{detect-all} % tell siunitx to detect font stuff
 
\setlength{\columnsep}{0.75cm} 

\graphicspath{{figures/}}

\providecommand{\figr}[1]{Fig.~\ref{fig:#1}}
\providecommand{\figlabel}[1]{\label{fig:#1}}
\providecommand{\tabl}[1]{Tab.~\ref{tab:#1}}
\providecommand{\tablabel}[1]{\label{tab:#1}}
\providecommand{\sectn}[1]{Sec.~\ref{sec:#1}}
\providecommand{\seclabel}[1]{\label{sec:#1}}

\providecommand{\inductor}[1]{L\textsubscript{#1}}
\providecommand{\capacitor}[1]{C\textsubscript{#1}}
\providecommand{\resistor}[1]{R\textsubscript{#1}}

% \interfootnotelinepenalty=10000

\title{The Open Source Monkey Coffin Loudspeaker}
% \author{The OSMC design team}
\author{Matthias Brennwald}
\date{\today}

\begin{document}


\maketitle

\vspace{0.2\textheight}

\section*{Important Notes and Disclaimers}
This document describes the design of the Open Source Monkey Coffin (OSMC) loudspeaker, which was developed in an ``open-source project''\cite{osmc_p1}. The aim of this project is to provide the OSMC design to DIYers for their own private purposes, for example to build a copy of the OSMC. Do not use the information developed in this project on a larger scale without written permission (for example by selling speakers based on the OSMC design or substantial parts of it).\par

The OSMC development was financially supported by diyAudio members LORDSANSUI, Paul Vancluysen, George Wright, KaffiMann, Charles Bueche, zimmer64, John Barbor, mbrennwa, and other anonymous members. Thank you!

\clearpage

\section{Overview}
The Open Source Monkey Coffin (OSMC) loudspeaker was developed by members of the diyAudio internet forum\cite{osmc_p1}. The motivation for developing this loudspeaker emerged from two diyAudio threads discussing the idea of ``open source'' loudspeaker designs\cite{osproj1_p1,osproj2_p1}. Once the types of loudspeakers that would appeal to many novice DIYers were identified, the design targets for the OSMC were defined as follows:

\begin{itemize}
\item The OSMC must be straight forward to make for DIY novices.
\item The box format should follow the ``large monitor'' format, sometimes also referred to as ``monkey coffin'' (hence the name). The internal volume should not be larger than \SIrange{60}{80}{L}. The enclosure must be a simple rectangular box which is easy enough to make on a kitchen table.
\item The OSMC should be ``amplifier friendly''. It should work well with small amplifiers like the popular Amp-Camp-Amp, tube amps, etc.
\item The OSMC should be a three way loudspeaker.
\item Keeping part costs low is not of paramount priority. If the right parts cost a lot of money and there are no cheaper equivalents, it's okay to use those parts in the design.
\end{itemize}

\clearpage


\section{System Design}

For ``amplifier friendliness'', the target for the loudpseaker efficiency was set to \SI{92}{dB-SPL} at \SI{1}{m} and \SI{2.83}{V} input voltage, with a bass extension to 45 Hz (\SI{-3}{dB}). The impedance curve must not exhibit any sharp peaks or dips, and the OSMC should qualify as an ``\SI{8}{$\Omega$} speaker''. It must be noted that, given the constraints of the box size, these targets could only be achieved if mechnical losses within the loudspeaker system were virtually zero, which is nearly impossible. While it is therefore not realistic to fully implement these design targets, these goals still provide useful guidelines for the design process.

The following is a brief summary of the design process, which is fully documented in the diyAudio thread.\cite{osmc_p1}The OSMC design was aided by the use of loudspeaker CAD tools (LEAP, Vituix CAD). Measurement data were acquired using an RTX6001 USB audio analyser, MATAA software, and Earthworks M23 and iSEMcon EMX-7150 microphones. Data from measurements and simulations are available in the OSMC data repository\cite{osmc_datarepo}.


\subsection{Driver choices}\seclabel{drivers}

High-quality drivers and parts should be chosen based on the technical specations required for the OSMC design. The look of the drivers has to be ``right'' for a HiFi system in a home environment (people may not want to build a speaker that looks unusual), but is second priority after the techincal specifications.

The woofer will determine the compromise between box size, bass-extension, and efficiency. 
The size of the woofer critically determines the efficiency of the loudspeaker, and a 12" woofer will just fit the targeted box size. After screening numerous woofers based on their manufacturer specification, two samples should allow high efficiency at the targeted \SI{-3}{dB} point of \SI{50}{Hz} (FaitalPro 12PR320 and the D.A.S. Audio 12P).\cite{osmc_p162}. Measurements of the Thielle-Small parameters showed that the mechanical losses of the D.A.S.\ driver are considerably higher than speciefied in the datasheet, whereas the parameter values observed with the FaitalPro driver were consistent with the datasheet. The FaitalPro driver also showed lower harmonic distortion than the D.A.S.\ driver\cite{osmc_p236}. The FaitalPro 12PR320 was therefore chosen as the woofer in the OSMC.

The midrange driver needs to keep up with the SPL and impedance requirements. The Volt VM752 dome driver will work very well from \SI{400}{Hz} up to about \SI{3}{kHz}. While there may be other midrange drivers that could be used, the VM752 was chosen due to the general interest for this driver and because some of the OSMC designers had good experience using this driver.

The tweeter also needs to keep up with the SPL and impedance requirements. Classical dome or ring radiator tweeters seem to be favoured by the OSMC designers. Also, the use of a waveguide seems favourable in order to match the dispersion of the tweeter to the midrange, to reduce the effects of baffle diffraction, to increase the on-axis efficiency, and to reduce non-linear distortion of the tweeter. Ring radiators tend to provide better acoustic coupling to a waveguide. The Scan~Speak R2904/7000 ring radiator was chosen due to its high electrical impedance, high efficiency, and very low harmonic distortion. Most of the design work was done with a Visaton WG148 waveguide, which was modified to fit the R2904/7000.\cite{WG148mod} However, the final design uses a custom-made waveguide designed by augerpro specifically for this purpose\cite{augerproWGcircular}. The augerpro waveguide is acoustically almost identical to the WG148\cite{osmc_p881}, but is very easy to fit on the R2904/7000. It is available for purchase via group buy at diyAudio.\cite{augerpro_groupbuy}

*** Present data of raw drivers mounted in box as in the final design

*** driver impedance curves:
See \figr{impedance_curves_drivers}
Use for crossover modelling.
Discuss bass tuning.

\begin{figure}[tbp]
	\centering
	% \vspace{-10ex}
	\includegraphics[width=0.7\textwidth]{impedance_curves_drivers.eps}
	\caption{Impedance curves of the drivers mounted in the OSMC box (magnitude and phase).}
	\figlabel{impedance_curves_drivers}
\end{figure}



% *** anechoic response of drivers, on axis and off-axis:
The SPL response curves of the raw drivers mounted in the OSMC box\cite{osmc_p568,osmc_p576} are shown in \figr{SPL_curves_raw}. These curves were obtained from gated impulse-response measurements, which yielded the anechoic SPL response above \SI{300}{Hz}. Measurements were taken at horizontal angles from \SI{-90}{\degree} to \SI{+90}{\degree} at \SI{15}{\degree} steps. The low-frequency parts of each SPL curve were calculated from the Thielle-Small parameters of the drivers (using LEAP) and a diffraction model of the Monkey Coffin baffle (using Vituix CAD).\cite{osmc_p555} The anechoic part and the low-frequency part of each SPL curve were merged using a ``soft splice'' in the frequency range where both parts of the curve overlapped consistently\cite{osmc_p568}. Finally, the phase response (not shown in \figr{SPL_curves_raw}) was determined by calculating the minimum phase from each of the merged SPL curves.

\begin{figure}[p]
	\centering
	\vspace{-10ex}
	\includegraphics[width=0.7\textwidth]{SPL_curves_raw.eps}
	\caption{SPL response curves of the woofer (Faital 12PR320, top), midrange driver (Volt VM752, center) and tweeter (Scan Speak R2904/7000 with WG148 wave\-guide) mounted in the Monkey Coffin prototype box, measured at \SI{2.83}{Vrms} and \SI{1}{m} distance from the drivers, on axis and at $\pm$15\degree, $\pm$30\degree, $\pm$45\degree, $\pm$60\degree, $\pm$75\degree and $\pm$90\degree horizontal angles (symmetric for the woofer, midrange and tweeter: red curves are ``inside'' the stereo triangle, blue is ``outside''). Above \SI{300}{Hz}, the curves show the anechoic response as obtained from gated impulse-response measurements. The anechoic curves were extrapolated to lower frequencies by splicing them with modelled low-frequency curves (see text).}
	\figlabel{SPL_curves_raw}
\end{figure}



*** woofer nearfield response
Discuss box tuning





\subsection{Baffle and Enclosure}

\figr{OSMC_box_drawing} shows the OSMC enclousure. The dimensions of the baffle is largely deteremined by the space required for the drivers. The tweeter and midrange are horizontally offset relative to the center in order to spread effects of diffraction at baffle edgeds over wide frequency band as much as possible.

The volume of the box and the dimensions of the bass-reflex port were determined by numerous simulations and measurements of the bass tuning. The goal was to obtain flat SPL response down to the cut-off frequency. In order to keep group delay low, the bass SPL curve was designed to roll off smoothly (\figr{OSMC_bass_tuning}).

\begin{figure}[tb]
	\centering
	\includegraphics[width=0.6\textwidth]{OSMC_bass_tuning.pdf}
	\caption{Bass SPL and group delay ($2\pi$ free-field \SI{2.83}{Vrms}, \SI{1}{m}). The SPL curve was measured using the mic-in-box technique for data up to \SI{110}{Hz}, which were spliced to a near-field measurement from \SI{90}{Hz} upwards.}
	\figlabel{OSMC_bass_tuning}
\end{figure}




\subsection{Crossover filters}

The cross over filters are implemented as passive circuits using steep filters in order to achieve small overlaps between the drivers in the crossover frequency bands, which reduces acoustic interferences between the drivers. 

Two different filter prototypes\cite{osmc_p685} were modelled with loudspeaker CAD tools using the measured electro-acoustic characteristics of the drivers mounted in the OSMC enclosure (\sectn{driver_measurements}). The first prototype uses elliptic filters, which are not very widely used in conventional loudspeaker designs. While the transfer functions of elliptic filters may exhibit some ripple near their cut-off range, they allow very steep slopes. The second prototype was designed with simpler and more conventional circuit topology using series inductors and parallel capacitors for the low-pass sections, and vice-versa for the the high-pass sections. Both prototypes were optimized for smooth and flat overall system SPL response, smooth dispersion and power response, and symmetric acoustic filter slopes near the cross-over points. The summed SPL curves in the filter simulations were virtually identical.

Both filter prototypes were implemented for testing in the OSMC prototype using a miniDSP digital signal processor. Listening tests with these DSP filters showed that both filters tend to sound very similar, although the elliptic filters sounded slightly more refined.\cite{osmc_p708} The elliptic filters were therefore implemented as passive circuits and further optimized using acoustic measurements and listening tests. The schematic of the final cross-over filters is shown in \figr{OSMC_EL_xover_schem}, with the part specifications in \tabl{OSMC_EL_xover_parts}. The manufacturers / types given in \tabl{OSMC_EL_xover_parts} are just suggestions that may be useful for inexperienced builders; other types can be used as long as they conform to the specifications given.

\begin{figure}[p]
	\centering
	\includegraphics[width=\textwidth]{OSMC_EL_xover_schem.pdf}
	\caption{OSMC cross-over filters (elliptic)}
	\figlabel{OSMC_EL_xover_schem}
\end{figure}

\begin{table}[p]

\centering
\caption{List of parts in \figr{OSMC_EL_xover_schem} (version 2019-08-23).}
\footnotesize
\tablabel{tab:OSMC_EL_xover_parts}
\begin{tabular}{ccp{0.68\textwidth}} 
\toprule
Part & Value & Description\\ 
\midrule 
% \multicolumn{3}{c}{Woofer filter}\\
% \midrule

% woofer parts
\inductor{W1}	& \SI{6.8}{mH} / \SI{0.19}{\ohm}	& Laminated iron core (e.g.~Mundorf BS180, Feron, I core, baked varnish)\\
\inductor{W2}	& \SI{1.8}{mH} / \SI{0.09}{\ohm}	& Laminated iron core (e.g, Mundorf BS180, Feron, I core, baked varnish)\\
\inductor{W3}	& \SI{0.1}{mH} / \SI{0.23}{\ohm}	& Air core (e.g.~Mundorf BL71, baked varnish)\\
\inductor{W4}	& \SI{15}{mH}  / \SI{1.12}{\ohm}	& Iron core (e.g, Mundorf BH71, Ferrite, baked varnish)\\
\capacitor{W1}	& \SI{118}{\micro F}			& Parallel combination of \SI{100}{\micro F} bipolar electrolytic  (e.g.~Mundorf ECAP50) and \SI{18}{\micro F} MKP (e.g.~Mundorf MCAP250)\\
\capacitor{W2}	& \SI{33}{\micro F}			& Bipolar electrolytic (e.g.~Mundorf ECAP70)\\
\capacitor{W3}	& \SI{267}{\micro F}			& Parallel combination of \SI{220}{\micro F} and \SI{47}{\micro F} bipolar electrolytics (e.g.~Mundorf ECAP63 / ECAP50)\\
\resistor{W1}	& \SI{6.8}{\ohm} / \SI{10}{W}		& MOX type (e.g.~Mundorf MR10)\\
\resistor{W2}	& \SI{5.6}{\ohm} / \SI{10}{W}		& MOX type (e.g.~Mundorf MR10)\\

\midrule

% midrange parts
\inductor{M1}	& \SI{1.2}{mH} / \SI{0.39}{\ohm}	& Air core (e.g.~Mundorf BL125, baked varnish)\\
\inductor{M2}	& \SI{0.33}{mH} / \SI{0.15}{\ohm}	& Air core (e.g.~Mundorf BL100, baked varnish)\\
\inductor{M3}	& \SI{6.8}{mH} / \SI{0.46}{\ohm}	& Iron core (e.g.~Mundorf BH100, Ferrite, baked varnish)\\
\inductor{M4}	& \SI{0.12}{mH} / \SI{0.15}{\ohm}	& Air core (e.g.~Mundorf BL100, baked varnish)\\
\inductor{M5}	& \SI{2.7}{mH} / \SI{1.01}{\ohm}	& Iron core (e.g.~Mundorf BP71, Ferrite, baked)\\
\capacitor{M1}	& \SI{33}{\micro F}			& MKP (e.g.~Mundorf MCAP250)\\
\capacitor{M2}	& \SI{267}{\micro F}			& Parallel combination of \SI{220}{\micro F} bipolar electrolytic (e.g., Mundorf ECAP63) and \SI{47}{\micro F} MKP (e.g.~Mundorf MCAP250)\\
\capacitor{M3}	& \SI{6.8}{\micro F}			& MKP (e.g.~Mundorf MCAP250)\\
\capacitor{M4}	& \SI{4.7}{\micro F}			& MKP (e.g.~Mundorf MCAP250)\\
\capacitor{M5}	& \SI{68}{\micro F}			& Bipolar electrolytic (e.g.~Mundorf ECAP50)\\
\resistor{M1}	& \SI{2.7}{\ohm} / \SI{10}{W}		& MOX or wire wound (non-inducitve) (e.g.~Mundorf MRES20)\\
\resistor{M2}	& \SI{5.6}{\ohm} / \SI{10}{W}		& MOX or wire wound (non-inducitve) (e.g.~Mundorf MRES20)\\
\resistor{M3}	& \SI{8.2}{\ohm} / \SI{10}{W}		& MOX or wire wound (e.g.~Mundorf MR10)\\
\resistor{M4}	& \SI{8.2}{\ohm} / \SI{10}{W}		& MOX or wire wound (e.g.~Mundorf MR10)\\

\midrule

% tweeter parts
\inductor{T1}	& \SI{0.18}{mH} / \SI{0.38}{\ohm}	& Air core (e.g.~Mundorf BL71, baked varnish)\\
\inductor{T2}	& \SI{0.47}{mH} / \SI{0.64}{\ohm}	& Air core (e.g.~Mundorf BL71, baked varnish)\\
\capacitor{T1}	& \SI{4.7}{\micro F}			& MKP (e.g.~MCAP250)\\
\capacitor{T2}	& \SI{15}{\micro F}			& MKP (e.g.~MCAP250)\\
\capacitor{T3}	& \SI{100}{\micro F}			& Parallel combination of \SI{82}{\micro F} bipolar electrolytic and \SI{18}{\micro F} MKP (e.g.~Mundorf ECAP50-82 and MCAP250-18)\\
\capacitor{T4}	& \SI{100}{\micro F}			& Bipolar electrolytic (e.g.~Mundorf ECAP50)\\
\resistor{T1}	& \SI{3.9}{\ohm} / \SI{10}{W}		& MOX or wire wound (non-inducitve) (e.g.~Mundorf MRES20)\\
\resistor{T2}	& \SI{1.0}{\ohm} / \SI{10}{W}		& MOX or wire wound (non-inducitve) (e.g.~Mundorf MRES20)\\
\resistor{T3}	& \SI{4.7}{\ohm} / \SI{10}{W}		& MOX type (e.g.~Mundorf MR10)\\
\bottomrule
\end{tabular}
\end{table}



\section{Construction}

\subsection{Baffle and Enclosure}

% *** Routing irregular drivers\cite{reddit_flushmount}

*** BRACING

*** DAMPING

*** Fitting the waveguides (augerpro, WG148 machining)


\subsection{Cross Over Filters}

*** how to (not) construct the filters

*** possible modifications (better parts, other part values: use Vituix CAD to see effects)
	

\subsection{System tests and performance}

*** Test equipment used: RTX001 USB audio analyser, MATAA software, Earthworks M23 microphone

Electronic performance:
*** Impedance curve
*** Filter gain curves (electronic)

Acoustic performance:
*** step response (at 1m / farfield)
*** farfield anechoic SPL curves of full system and individual drivers (padded with in-room woofer response)
*** cumulative decay spectrum
*** polar plots (horizontal, vertical)

Bass tuning:
*** nearfield response of woofer (showing the BR dip and the sloping corresponding to the baffle-step compensation).

General:
*** How does the result compare to the build targets?
*** "How does it sound?"

\clearpage

% list of references
\bibliographystyle{unsrt}
\bibliography{osmc_refs}


\end{document}
